<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <title>PHP / MySQL</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="https://unpkg.com/reveal.js@^4//dist/reset.css">
  <link rel="stylesheet" href="https://unpkg.com/reveal.js@^4//dist/reveal.css">
  <style>
    .reveal .sourceCode {  /* see #7635 */
      overflow: visible;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        background-color: #232629;
        color: #7a7c7d;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #7a7c7d;  padding-left: 4px; }
    div.sourceCode
      { color: #cfcfc2; background-color: #232629; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #cfcfc2; } /* Normal */
    code span.al { color: #95da4c; background-color: #4d1f24; font-weight: bold; } /* Alert */
    code span.an { color: #3f8058; } /* Annotation */
    code span.at { color: #2980b9; } /* Attribute */
    code span.bn { color: #f67400; } /* BaseN */
    code span.bu { color: #7f8c8d; } /* BuiltIn */
    code span.cf { color: #fdbc4b; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #3daee9; } /* Char */
    code span.cn { color: #27aeae; font-weight: bold; } /* Constant */
    code span.co { color: #7a7c7d; } /* Comment */
    code span.cv { color: #7f8c8d; } /* CommentVar */
    code span.do { color: #a43340; } /* Documentation */
    code span.dt { color: #2980b9; } /* DataType */
    code span.dv { color: #f67400; } /* DecVal */
    code span.er { color: #da4453; text-decoration: underline; } /* Error */
    code span.ex { color: #0099ff; font-weight: bold; } /* Extension */
    code span.fl { color: #f67400; } /* Float */
    code span.fu { color: #8e44ad; } /* Function */
    code span.im { color: #27ae60; } /* Import */
    code span.in { color: #c45b00; } /* Information */
    code span.kw { color: #cfcfc2; font-weight: bold; } /* Keyword */
    code span.op { color: #cfcfc2; } /* Operator */
    code span.ot { color: #27ae60; } /* Other */
    code span.pp { color: #27ae60; } /* Preprocessor */
    code span.re { color: #2980b9; background-color: #153042; } /* RegionMarker */
    code span.sc { color: #3daee9; } /* SpecialChar */
    code span.ss { color: #da4453; } /* SpecialString */
    code span.st { color: #f44f4f; } /* String */
    code span.va { color: #27aeae; } /* Variable */
    code span.vs { color: #da4453; } /* VerbatimString */
    code span.wa { color: #da4453; } /* Warning */
  </style>
  <link rel="stylesheet" href="https://unpkg.com/reveal.js@^4//dist/theme/dracula.css" id="theme">
</head>
<body>
  <div class="reveal">
    <div class="slides">

<section id="title-slide">
  <h1 class="title">PHP / MySQL</h1>
  <p class="subtitle">Les bases</p>
</section>

<section>
<section id="section" class="title-slide slide level1">
<h1><img data-src="images/PHP-logo.svg.png" title="LOGO PHP" /></h1>

</section>
<section id="personal-homepage" class="slide level2">
<h2><em>P</em>ersonal <em>H</em>ome<em>P</em>age</h2>
<p>créé en <strong>1995</strong> par<br />
<em>Rasmus Lerdorf</em></p>
</section>
<section id="php-hypertext-preprocessor" class="slide level2">
<h2><em>P</em>hp: <em>H</em>ypertext <em>P</em>reprocessor</h2>
<p>repris en <strong>1999</strong> par<br />
<em>Zend Technologies</em></p>
</section>
<section id="utilité" class="slide level2">
<h2>Utilité</h2>
<p>Génère des fichiers <em>dynamiques</em> :<br />
HTML, PDF, images …</p>
</section>
<section id="langage-polyvalent" class="slide level2">
<h2>Langage polyvalent</h2>
<ul>
<li>impératif ou fonctionnel</li>
<li>procédural ou orienté objet</li>
<li>réfléxif</li>
<li>interprété</li>
</ul>
</section>
<section id="fonctionnement" class="slide level2">
<h2>Fonctionnement</h2>
<p><img data-src="images/fonctionnement_php.png"
title="Fonctionnement php" /></p>
</section>
<section id="documentation" class="slide level2">
<h2>Documentation</h2>
<p>Sur le site <a href="https://www.php.net/manual/en/index.php"
target="_blank">php.net</a><br />
<img data-src="images/documentation.png" /></p>
</section></section>
<section>
<section id="marché" class="title-slide slide level1">
<h1>Marché</h1>

</section>
<section id="is-php-dead-yet" class="slide level2">
<h2>Is PHP dead yet ?</h2>
<table>
<thead>
<tr class="header">
<th>Année</th>
<th style="text-align: center;">Marché</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>2010</td>
<td style="text-align: center;">75%</td>
</tr>
<tr class="even">
<td>2013</td>
<td style="text-align: center;">75%</td>
</tr>
<tr class="odd">
<td>2016</td>
<td style="text-align: center;">82%</td>
</tr>
<tr class="even">
<td>2022</td>
<td style="text-align: center;">78%</td>
</tr>
</tbody>
</table>
</section>
<section id="frameworks-populaires" class="slide level2">
<h2>Frameworks populaires</h2>
<ul>
<li>Symfony<br />
</li>
<li>Laravel<br />
</li>
<li>CakePHP<br />
</li>
<li>etc…</li>
</ul>
</section>
<section id="cms-et-ecommerce" class="slide level2">
<h2>CMS et ecommerce</h2>
<ul>
<li>Wordpress</li>
<li>Joomla</li>
<li>Prestashop</li>
<li>Magento</li>
<li>etc…</li>
</ul>
</section>
<section id="evolution" class="slide level2">
<h2>Evolution</h2>
<table>
<thead>
<tr class="header">
<th>Version</th>
<th style="text-align: center;">Date sortie</th>
<th>Ajout notables</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>v1/v2</td>
<td style="text-align: center;">1994</td>
<td></td>
</tr>
<tr class="even">
<td>3.0</td>
<td style="text-align: center;">1997</td>
<td>Objets / Zend Engine</td>
</tr>
<tr class="odd">
<td>4.0</td>
<td style="text-align: center;">2000</td>
<td>Superglobales</td>
</tr>
<tr class="even">
<td>5.0</td>
<td style="text-align: center;">2004</td>
<td>PDO / Zend Engine 2</td>
</tr>
<tr class="odd">
<td>5.3</td>
<td style="text-align: center;">2009</td>
<td>Namespaces</td>
</tr>
<tr class="even">
<td>7.0</td>
<td style="text-align: center;">2015</td>
<td>Performances ++</td>
</tr>
<tr class="odd">
<td>8.0</td>
<td style="text-align: center;">2020</td>
<td>Compilation JOT</td>
</tr>
</tbody>
</table>
</section></section>
<section>
<section id="installation" class="title-slide slide level1">
<h1>Installation</h1>

</section>
<section id="wamp-mamp-lamp" class="slide level2">
<h2>WAMP / MAMP / LAMP ?</h2>
<ul>
<li>Windows / Mac OS / Linux</li>
<li>Apache (ou NGINX)</li>
<li>MySQL</li>
<li>PHP</li>
</ul>
</section>
<section class="slide level2">

<p><a href="https://www.wampserver.com/" target="_blank">Windows</a> /
<a href="https://www.php.net/manual/fr/install.macosx.packages.php"
target="_blank">Mac OS</a> / <a
href="https://www.php.net/manual/fr/install.macosx.packages.php"
target="_blank">Linux</a> / <a href="https://hub.docker.com/_/php"
target="_blank">Docker</a></p>
</section></section>
<section>
<section id="configuration" class="title-slide slide level1">
<h1>Configuration</h1>

</section>
<section id="exemple-php.ini" class="slide level2">
<h2>Exemple <code>php.ini</code></h2>
<div class="sourceCode" id="cb1"><pre
class="sourceCode ini"><code class="sourceCode ini"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">[PHP]</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co"># erreurs</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="dt">display_errors </span><span class="ot">=</span><span class="st"> </span><span class="kw">on</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="dt">error_reporting </span><span class="ot">=</span><span class="st"> </span><span class="kw">E_ALL</span><span class="st"> &amp; ~</span><span class="kw">E_NOTICE</span><span class="st"> &amp; ~</span><span class="kw">E_STRICT</span><span class="st"> &amp; ~E_DEPRECATED</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="co"># fichiers</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="dt">file_uploads </span><span class="ot">=</span><span class="st"> </span><span class="kw">on</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="dt">upload_max_filesize </span><span class="ot">=</span><span class="st"> 10M</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="dt">post_max_size </span><span class="ot">=</span><span class="st"> 10M</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="co"># délais (secondes)</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="dt">max_execution_time </span><span class="ot">=</span><span class="st"> </span><span class="dv">300</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="dt">max_input_time </span><span class="ot">=</span><span class="st"> </span><span class="dv">300</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="co"># mémoire</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="dt">memory_limit </span><span class="ot">=</span><span class="st"> 128M</span></span></code></pre></div>
</section>
<section id="phpinfo" class="slide level2">
<h2><code>phpinfo()</code></h2>
<p>Vérifier la configuration de PHP</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;?php</span> <span class="fu">phpinfo</span>()<span class="ot">;</span> <span class="kw">?&gt;</span></span></code></pre></div>
</section>
<section class="slide level2">

<p><img data-src="images/phpinfo.png" /></p>
</section></section>
<section>
<section id="exemples" class="title-slide slide level1">
<h1>Exemples</h1>

</section>
<section id="index.php" class="slide level2">
<h2><code>index.php</code></h2>
<div class="sourceCode" id="cb3"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;?php</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">echo</span> <span class="st">&#39;Hello World&#39;</span><span class="ot">;</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="kw">?&gt;</span></span></code></pre></div>
<p>résultat</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode html"><code class="sourceCode html"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span>Hello World<span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span></code></pre></div>
</section>
<section class="slide level2">

<p>Dans du HTML</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>html<span class="op">&gt;</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>body<span class="op">&gt;</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="op">&lt;</span><span class="ot">?</span> <span class="kw">echo</span> <span class="st">&quot;Hello World&quot;</span> <span class="kw">?&gt;</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;/</span>body<span class="op">&gt;</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;/</span>html<span class="op">&gt;</span></span></code></pre></div>
<p>résultat</p>
<div class="sourceCode" id="cb6"><pre
class="sourceCode html"><code class="sourceCode html"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span>Hello World<span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span></code></pre></div>
</section>
<section id="formulaire.php" class="slide level2">
<h2><code>formulaire.php</code></h2>
<div class="sourceCode" id="cb7"><pre
class="sourceCode html"><code class="sourceCode html"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;!doctype </span>html<span class="dt">&gt;</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&lt;</span><span class="kw">meta</span><span class="ot"> charset</span><span class="op">=</span><span class="st">&quot;utf-8&quot;</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&lt;</span><span class="kw">title</span><span class="dt">&gt;</span>Formulaire html<span class="dt">&lt;/</span><span class="kw">title</span><span class="dt">&gt;</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&lt;/</span><span class="kw">head</span><span class="dt">&gt;</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">body</span><span class="dt">&gt;</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&lt;</span><span class="kw">form</span><span class="ot"> action</span><span class="op">=</span><span class="st">&quot;reponse.php&quot;</span><span class="ot"> method</span><span class="op">=</span><span class="st">&quot;GET&quot;</span><span class="dt">&gt;</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>            Votre nom :<span class="dt">&lt;</span><span class="kw">input</span><span class="ot"> type</span><span class="op">=</span><span class="st">&quot;text&quot;</span><span class="ot"> name</span><span class="op">=</span><span class="st">&quot;nom&quot;</span><span class="dt">&gt;</span> </span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>            Votre âge :<span class="dt">&lt;</span><span class="kw">input</span><span class="ot"> type</span><span class="op">=</span><span class="st">&quot;text&quot;</span><span class="ot"> name</span><span class="op">=</span><span class="st">&quot;age&quot;</span><span class="dt">&gt;</span> </span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&lt;</span><span class="kw">p</span><span class="dt">&gt;</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&lt;</span><span class="kw">input</span><span class="ot"> type</span><span class="op">=</span><span class="st">submit</span><span class="ot"> value</span><span class="op">=</span><span class="st">&quot;Envoyer&quot;</span><span class="dt">&gt;</span> </span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&lt;/</span><span class="kw">form</span><span class="dt">&gt;</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&lt;/</span><span class="kw">body</span><span class="dt">&gt;</span> </span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">html</span><span class="dt">&gt;</span></span></code></pre></div>
</section>
<section id="reponse.php" class="slide level2">
<h2><code>reponse.php</code></h2>
<div class="sourceCode" id="cb8"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;!</span>doctype html<span class="op">&gt;</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>html<span class="op">&gt;</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>head<span class="op">&gt;</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">&lt;</span>meta charset<span class="op">=</span><span class="st">&quot;utf-8&quot;</span> <span class="op">/&gt;</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>    <span class="op">&lt;</span>title<span class="op">&gt;</span><span class="cn">R</span>éponse formulaire <span class="cn">HTML</span><span class="op">&lt;/</span>title<span class="op">&gt;</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;/</span>head<span class="op">&gt;</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>body<span class="op">&gt;</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>    <span class="op">&lt;</span>h1<span class="op">&gt;</span><span class="cn">B</span>onjour <span class="op">&lt;</span><span class="ot">?</span>php <span class="kw">echo</span> <span class="va">$_GET</span>[<span class="st">&#39;nom&#39;</span>] <span class="kw">?&gt;</span> <span class="op">!&lt;/</span>h1<span class="op">&gt;</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>    <span class="op">&lt;</span>h2<span class="op">&gt;</span><span class="cn">V</span>ous avez <span class="op">&lt;</span><span class="ot">?</span>php <span class="kw">echo</span> <span class="va">$_GET</span>[<span class="st">&#39;age&#39;</span>] <span class="kw">?&gt;</span> ans<span class="op">&lt;/</span>h2<span class="op">&gt;</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;/</span>body<span class="op">&gt;</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;/</span>html<span class="op">&gt;</span></span></code></pre></div>
</section></section>
<section>
<section id="variables" class="title-slide slide level1">
<h1>Variables</h1>

</section>
<section id="nommage" class="slide level2">
<h2>Nommage</h2>
<p>Les variables commencent par <code>$</code></p>
<p>Le premier caractère <em>ne peut pas être un chiffre</em></p>
<p>Espaces, accents et caractères spéciaux <em>sont interdits</em>.</p>
<p>Le caractère <code>_</code> (undescore) <em>est autorisé</em></p>
</section>
<section id="exemples-1" class="slide level2">
<h2>Exemples</h2>
<div class="sourceCode" id="cb9"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co">// variables incorrectes :</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>nom_variable<span class="ot">;</span>  <span class="co">// manque $</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>$<span class="dv">1</span>NomVariable<span class="ot">;</span>  <span class="co">// commence par un chiffre</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="va">$M</span><span class="pp">@</span><span class="cn">V</span>ariable<span class="ot">;</span>  <span class="co">// caractère &#39;@&#39; interdit</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="va">$Nom</span><span class="op">-</span>variable<span class="ot">;</span> <span class="co">// caractère &#39;-&#39; interdit</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="va">$Nom</span> variable<span class="ot">;</span> <span class="co">// espace interdit</span></span></code></pre></div>
<div class="sourceCode" id="cb10"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co">// variables correctes :</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="va">$Variable</span><span class="ot">;</span> </span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="va">$Nom1deVariable</span><span class="ot">;</span> </span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="va">$nom_variable</span><span class="ot">;</span> </span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="va">$nom_de_variable_123</span><span class="ot">;</span></span></code></pre></div>
</section>
<section id="affectation" class="slide level2">
<h2>Affectation</h2>
<h3 id="de-valeur">De valeur :</h3>
<div class="sourceCode" id="cb11"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="va">$a</span> <span class="op">=</span> <span class="dv">4</span><span class="ot">;</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="va">$b</span> <span class="op">=</span> <span class="va">$a</span><span class="ot">;</span> <span class="co">// $b prend la valeur de $a (ici 4)</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="va">$a</span> <span class="op">=</span> <span class="dv">5</span><span class="ot">;</span> <span class="co">// $b ne change pas de valeur</span></span></code></pre></div>
<h3 id="de-référence">De référence</h3>
<p>Le concept de référence est <a
href="https://www.php.net/manual/fr/language.references.php"
target="_blank">puissant mais complexe</a></p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="va">$a</span> <span class="op">=</span> <span class="dv">3</span><span class="ot">;</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="va">$b</span> <span class="op">=</span> <span class="op">&amp;</span><span class="va">$a</span><span class="ot">;</span> <span class="co">// $b est une référence à $a</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="va">$a</span> <span class="op">=</span> <span class="dv">6</span><span class="ot">;</span> <span class="co">// $b change aussi de valeur !</span></span></code></pre></div>
</section>
<section id="opérateurs-daffectation" class="slide level2">
<h2>Opérateurs d’affectation</h2>
<table>
<thead>
<tr class="header">
<th>exemple</th>
<th>equivalent</th>
<th>opération</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>$a += $b</td>
<td>$a = $a + $b</td>
<td>addition</td>
</tr>
<tr class="even">
<td>$a -= $b</td>
<td>$a = $a - $b</td>
<td>soustraction</td>
</tr>
<tr class="odd">
<td>$a *= $b</td>
<td>$a = $a * $b</td>
<td>multiplication</td>
</tr>
<tr class="even">
<td>$a \= $b</td>
<td>$a = $a \ $b</td>
<td>division</td>
</tr>
<tr class="odd">
<td>$a %= $b</td>
<td>$a = $a % $b</td>
<td>modulo</td>
</tr>
<tr class="even">
<td>$a **= $b</td>
<td>$a = $a ** $b</td>
<td>exponentiation</td>
</tr>
<tr class="odd">
<td>$a .= $b</td>
<td>$a = $a . $b</td>
<td>concaténation</td>
</tr>
<tr class="even">
<td>$a ??= $b</td>
<td>$a = $a ?? $b</td>
<td>coalescence</td>
</tr>
</tbody>
</table>
</section>
<section id="portée" class="slide level2">
<h2>Portée</h2>
<div class="sourceCode" id="cb13"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="va">$a</span> <span class="op">=</span> <span class="dv">1</span><span class="ot">;</span> <span class="co">// variable globale</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> test()</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>{ </span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="kw">echo</span> <span class="va">$a</span><span class="ot">;</span> <span class="co">// $a n&#39;existe pas ici !!</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  <span class="va">$b</span> <span class="op">=</span> <span class="dv">2</span><span class="ot">;</span> <span class="co">// variable locale</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>test()<span class="ot">;</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="kw">echo</span> <span class="va">$b</span><span class="ot">;</span> <span class="co">//$b n&#39;existe pas ici !!</span></span></code></pre></div>
<p>La variable <code>$b</code> n’existe pas hors de la fonction
<code>test</code>,<br />
à l’intérieur de la fonction, c’est <code>$a</code> qui n’existe pas</p>
</section>
<section id="mot-clé-global" class="slide level2">
<h2>Mot-clé <code>global</code></h2>
<div class="sourceCode" id="cb14"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="va">$a</span> <span class="op">=</span> <span class="dv">1</span><span class="ot">;</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="va">$b</span> <span class="op">=</span> <span class="dv">2</span><span class="ot">;</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> somme() {</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>    <span class="va">$a</span> <span class="op">=</span> <span class="dv">3</span><span class="ot">;</span> <span class="co">// $a est locale</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">global</span> <span class="va">$b</span><span class="ot">;</span> <span class="co">// $b est globale (valeur: 2)</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>    <span class="va">$b</span> <span class="op">=</span> <span class="va">$a</span> <span class="op">+</span> <span class="va">$b</span><span class="ot">;</span> <span class="co">// valeur: 3 + 2 = 5</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>somme()<span class="ot">;</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a><span class="kw">echo</span> <span class="va">$a</span><span class="ot">;</span> <span class="co">// valeur: 1</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a><span class="kw">echo</span> <span class="va">$b</span><span class="ot">;</span> <span class="co">// valeur: 5</span></span></code></pre></div>
</section>
<section id="mot-clé-static" class="slide level2">
<h2>Mot-clé <code>static</code></h2>
<div class="sourceCode" id="cb15"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> test()</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">static</span> <span class="va">$count</span> <span class="op">=</span> <span class="dv">0</span><span class="ot">;</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>    <span class="va">$count</span><span class="op">++</span><span class="ot">;</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">echo</span> <span class="va">$count</span><span class="ot">;</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="va">$count</span> <span class="op">&lt;</span> <span class="dv">10</span>) {</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>        test()<span class="ot">;</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>    <span class="va">$count</span><span class="op">--</span><span class="ot">;</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>test()<span class="ot">;</span></span></code></pre></div>
<p>Dans la fonction <code>test</code>, la variable
<code>$count</code><br />
sera initialisée seulement lors du premier appel</p>
</section>
<section id="constantes" class="slide level2">
<h2>Constantes</h2>
<p>On définit les constantes avec la fonction <code>define</code><br />
Par convention, on les met en majuscule<br />
A l’utilisation, on ne met pas le <em>$</em></p>
<div class="sourceCode" id="cb16"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">define</span>(<span class="st">&quot;CONSTANTE&quot;</span><span class="ot">,</span> <span class="st">&quot;Hello world !&quot;</span>)<span class="ot">;</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="kw">echo</span> <span class="cn">CONSTANTE</span><span class="ot">;</span> <span class="co">// affiche : Hello world !</span></span></code></pre></div>
</section></section>
<section>
<section id="types" class="title-slide slide level1">
<h1>Types</h1>

</section>
<section id="basiques" class="slide level2">
<h2>Basiques</h2>
<div class="sourceCode" id="cb17"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="va">$a</span> <span class="op">=</span> <span class="kw">null</span><span class="ot">;</span> <span class="co">// null</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="va">$b</span> <span class="op">=</span> <span class="kw">true</span><span class="ot">;</span> <span class="va">$b</span> <span class="op">=</span> <span class="kw">false</span><span class="ot">;</span> <span class="co">// bool</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="va">$c</span> <span class="op">=</span> <span class="dv">123</span><span class="ot">;</span> <span class="co">// int</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="va">$d</span> <span class="op">=</span> <span class="fl">123.456</span> <span class="co">// float</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="va">$e</span> <span class="op">=</span> <span class="st">&quot;bonjour&quot;</span> <span class="co">// string</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="va">$f</span> <span class="op">=</span> <span class="dt">array</span>(<span class="st">&#39;a&#39;</span><span class="ot">,</span> <span class="dv">1</span><span class="ot">,</span> <span class="kw">false</span>)<span class="ot">;</span> <span class="co">// array</span></span></code></pre></div>
<p>On ne précise pas le type en PHP,<br />
on parle de typage <em>faible</em></p>
</section>
<section class="slide level2">

<p>Cela veut dire que PHP choisit<br />
le type de variable le plus propice</p>
<div class="sourceCode" id="cb18"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="va">$variable</span> <span class="op">=</span> <span class="st">&quot;1000&quot;</span><span class="ot">;</span> <span class="co">// type string</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> test(<span class="dt">int</span> <span class="va">$var</span>) <span class="co">// type int demandé</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="kw">echo</span> <span class="fu">gettype</span>(<span class="va">$var</span>)<span class="ot">;</span> <span class="co">// $var est toujours de type int</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>test(<span class="va">$variable</span>)<span class="ot">;</span> <span class="co">// php va convertir $variable en int</span></span></code></pre></div>
</section>
<section id="conversion-forcée" class="slide level2">
<h2>Conversion forcée</h2>
<p>On peut forcer le type lors d’une affectation</p>
<div class="sourceCode" id="cb19"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="va">$a</span> <span class="op">=</span> <span class="st">&#39;1000.5&#39;</span><span class="ot">;</span> <span class="co">// type: string</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="va">$b</span> <span class="op">=</span> (<span class="dt">int</span>) <span class="st">&#39;1000.5&#39;</span><span class="ot">;</span> <span class="co">// type: int</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="kw">echo</span> <span class="va">$b</span><span class="ot">;</span> <span class="co">// affiche 1000</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="va">$c</span> <span class="op">=</span> <span class="dt">(float)</span> <span class="va">$a</span><span class="ot">;</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="kw">echo</span> <span class="va">$c</span><span class="ot">;</span> <span class="co">// affiche 1000.5</span></span></code></pre></div>
</section>
<section id="unset-isset-et-empty" class="slide level2">
<h2><code>unset</code>, <code>isset</code> et <code>empty</code></h2>
<p><code>unset($a)</code> permet d’annuler la définition de
<code>$a</code></p>
<p><code>isset($a)</code> renvoie <em>false</em> si <code>$a</code>
n’est pas définie</p>
<p><code>empty($a)</code> renvoie <em>true</em> si <code>$a</code> n’est
pas définie<br />
ou si elle vaut <em>null</em>, <em>““<em>, </em>0<em>, </em>”0”</em> ou
<em>false</em></p>
</section>
<section id="coalescence" class="slide level2">
<h2>Coalescence</h2>
<p>En utilisant <code>??</code> (depuis PHP 7)</p>
<div class="sourceCode" id="cb20"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co">// $a non initialisée</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="va">$b</span> <span class="op">=</span> <span class="dv">143</span><span class="ot">;</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="kw">echo</span> <span class="va">$a</span> <span class="op">??</span> <span class="dv">3</span><span class="ot">;</span> <span class="co">// affiche 3</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="kw">echo</span> <span class="va">$a</span> <span class="op">??</span> <span class="va">$b</span> <span class="op">??</span> <span class="dv">7</span><span class="ot">;</span> <span class="co">// affiche 143</span></span></code></pre></div>
</section></section>
<section>
<section id="les-chaînes-de-caractères"
class="title-slide slide level1">
<h1>Les chaînes de caractères</h1>

</section>
<section id="section-1" class="slide level2">
<h2></h2>
<p>On utilise une paire de <code>"</code> ou <code>'</code><br />
et une valeur au milieu</p>
<div class="sourceCode" id="cb21"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="va">$string</span> <span class="op">=</span> <span class="st">&quot;Hello&quot;</span><span class="ot">;</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="va">$other_string</span> <span class="op">=</span> <span class="st">&#39;World&#39;</span><span class="ot">;</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="kw">echo</span> <span class="va">$string</span> <span class="op">.</span> <span class="st">&#39; &#39;</span> <span class="op">.</span> <span class="va">$other_string</span><span class="ot">;</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="co">// affiche: Hello World</span></span></code></pre></div>
<p>On les <em>concatène</em> avec <code>.</code></p>
</section>
<section id="interpolation" class="slide level2">
<h2>Interpolation</h2>
<p>On peut <em>interpoler</em> des variables en utilisant
<code>"</code></p>
<p>Il faut <em>échapper</em> certains caractères avec <code>\</code></p>
<div class="sourceCode" id="cb22"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="va">$var</span> <span class="op">=</span> <span class="st">&quot;Bon&quot;</span><span class="ot">;</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="kw">echo</span> <span class="st">&quot;</span><span class="sc">\$</span><span class="st">var contient &#39;</span><span class="va">$var</span><span class="st">&#39;&quot;</span><span class="ot">;</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="co">// $var contient &#39;Bon&#39;</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="kw">echo</span> <span class="st">&quot;</span>{<span class="va">$var</span>}<span class="st">jour&quot;</span><span class="ot">;</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="co">// affiche: Bonjour</span></span></code></pre></div>
</section>
<section id="accéder-à-un-caractère" class="slide level2">
<h2>Accéder à un caractère</h2>
<p>On accède à un caractère comme dans un tableau</p>
<div class="sourceCode" id="cb23"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="va">$chaine</span> <span class="op">=</span> <span class="st">&#39;Hello World&#39;</span><span class="ot">;</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="kw">echo</span> <span class="va">$chaine</span>[<span class="dv">0</span>]<span class="ot">;</span> <span class="co">// affiche: H</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="kw">echo</span> <span class="va">$chaine</span>[<span class="dv">2</span>]<span class="ot">;</span> <span class="co">// affiche: l</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="kw">echo</span> <span class="va">$chaine</span>[<span class="dv">6</span>]<span class="ot">;</span> <span class="co">// affiche: W</span></span></code></pre></div>
</section>
<section id="changer-la-casse" class="slide level2">
<h2>Changer la casse</h2>
<div class="sourceCode" id="cb24"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="kw">echo</span> <span class="fu">strtoupper</span>(<span class="st">&#39;hello world&#39;</span>)<span class="ot">;</span> <span class="co">// affiche: HELLO WORLD</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="kw">echo</span> <span class="fu">strtolower</span>(<span class="st">&#39;HELLO world&#39;</span>)<span class="ot">;</span> <span class="co">// affiche: hello world</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="kw">echo</span> <span class="fu">ucfirst</span>(<span class="st">&#39;hello world&#39;</span>)<span class="ot">;</span> <span class="co">// affiche: Hello world</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="kw">echo</span> <span class="fu">ucwords</span>(<span class="st">&#39;hello world&#39;</span>)<span class="ot">;</span> <span class="co">// affiche: Hello World</span></span></code></pre></div>
</section>
<section id="recherche-de-sous-chaine" class="slide level2">
<h2>Recherche de sous-chaine</h2>
<p>On peut recherche une sous-chaine<br />
avec <a href="https://www.php.net/manual/fr/function.strstr.php"
target="_blank">strstr</a> ou encore <a
href="http://www.php.net/manual/fr/function.preg-match.php"
target="_blank">preg_match</a></p>
<p>Depuis PHP 8 on peut utiliser <a
href="https://www.php.net/manual/en/function.str-contains.php"
target="_blank">str_contains</a><br />
pour vérifier si la sous-chaine existe</p>
</section></section>
<section>
<section id="tableaux" class="title-slide slide level1">
<h1>Tableaux</h1>

</section>
<section id="tableau-numéroté" class="slide level2">
<h2>Tableau numéroté</h2>
<div class="sourceCode" id="cb25"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co">// On assigne chaque valeur à un entier</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="va">$array</span> <span class="op">=</span> <span class="dt">array</span>(</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="dv">0</span> =&gt; <span class="st">&#39;foo&#39;</span><span class="ot">,</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1</span> =&gt; <span class="st">&#39;bar&#39;</span><span class="ot">,</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>  <span class="dv">2</span> =&gt; <span class="st">&#39;hello&#39;</span><span class="ot">,</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>  <span class="dv">3</span> =&gt; <span class="st">&#39;world&#39;</span><span class="ot">,</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>)<span class="ot">;</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a><span class="co">// syntaxe courte</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a><span class="va">$array</span> <span class="op">=</span> [<span class="st">&quot;foo&quot;</span><span class="ot">,</span> <span class="st">&quot;bar&quot;</span><span class="ot">,</span> <span class="st">&quot;hello&quot;</span><span class="ot">,</span> <span class="st">&quot;world&quot;</span>]<span class="ot">;</span></span></code></pre></div>
</section>
<section id="tableau-associatif" class="slide level2">
<h2>Tableau associatif</h2>
<div class="sourceCode" id="cb26"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co">// on assigne une valeur à une chaine de caractères</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="va">$array</span> <span class="op">=</span> <span class="dt">array</span>(</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;foo&quot;</span> =&gt; <span class="st">&quot;bar&quot;</span><span class="ot">,</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;bar&quot;</span> =&gt; <span class="st">&quot;foo&quot;</span><span class="ot">,</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>)<span class="ot">;</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a><span class="co">// Utilisant la syntaxe courte</span></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a><span class="va">$array</span> <span class="op">=</span> [</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;foo&quot;</span> =&gt; <span class="st">&quot;bar&quot;</span><span class="ot">,</span></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;bar&quot;</span> =&gt; <span class="st">&quot;foo&quot;</span><span class="ot">,</span></span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>]<span class="ot">;</span></span></code></pre></div>
</section>
<section id="insérer" class="slide level2">
<h2>Insérer</h2>
<div class="sourceCode" id="cb27"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co">// numéroté :</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="va">$array</span> <span class="op">=</span> [<span class="st">&quot;foo&quot;</span><span class="ot">,</span> <span class="st">&quot;bar&quot;</span>]<span class="ot">;</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="va">$array</span>[] <span class="op">=</span> <span class="st">&quot;hello&quot;</span> <span class="co">// en bout de tableau</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a><span class="co">// associatif :</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a><span class="va">$array</span> <span class="op">=</span> [<span class="st">&quot;foo&quot;</span> =&gt; <span class="st">&quot;bar&quot;</span><span class="ot">,</span> <span class="st">&quot;bar&quot;</span> =&gt; <span class="st">&quot;foo&quot;</span><span class="ot">,</span> ]<span class="ot">;</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a><span class="va">$array</span>[<span class="st">&#39;hello&#39;</span>] <span class="op">=</span> <span class="st">&#39;world&#39;</span><span class="ot">;</span> <span class="co">// à un index précis</span></span></code></pre></div>
</section>
<section id="supprimer" class="slide level2">
<h2>Supprimer</h2>
<div class="sourceCode" id="cb28"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="va">$arr</span> <span class="op">=</span> <span class="dt">array</span>(</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>    <span class="dv">5</span> =&gt; <span class="dv">1</span><span class="ot">,</span> </span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>    <span class="dv">12</span> =&gt; <span class="dv">2</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>)<span class="ot">;</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a><span class="kw">unset</span>(<span class="va">$arr</span>[<span class="dv">5</span>])<span class="ot">;</span> <span class="co">// Ceci efface l&#39;élément du tableau</span></span></code></pre></div>
</section>
<section id="déstructurer" class="slide level2">
<h2>Déstructurer</h2>
<div class="sourceCode" id="cb29"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="va">$tableau_source</span> <span class="op">=</span> [<span class="st">&#39;foo&#39;</span><span class="ot">,</span> <span class="st">&#39;bar&#39;</span>]<span class="ot">;</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>[<span class="va">$foo</span><span class="ot">,</span> <span class="va">$bar</span>] <span class="op">=</span> <span class="va">$tableau_source</span><span class="ot">;</span> <span class="co">// on déstructure le tableau</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="kw">echo</span> <span class="va">$foo</span><span class="ot">;</span>    <span class="co">// prints &quot;foo&quot;</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a><span class="kw">echo</span> <span class="va">$bar</span><span class="ot">;</span>    <span class="co">// prints &quot;bar&quot;</span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a><span class="co">// Assigne &#39;bar&#39; à la variable $test</span></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>[ <span class="ot">,</span> <span class="va">$test</span>] <span class="op">=</span> <span class="va">$tableau_source</span><span class="ot">;</span></span></code></pre></div>
</section>
<section id="rechercher" class="slide level2">
<h2>Rechercher</h2>
<p>Plusieurs fonction permettent de manipuler les tableaux :</p>
<ul>
<li><a
href="https://www.php.net/manual/en/function.array-key-exists.php"
target="_blank">array_key_exists</a></li>
<li><a href="https://www.php.net/manual/en/function.in-array.php"
target="_blank">in_array</a></li>
<li><a href="https://www.php.net/manual/fr/function.array-search.php"
target="_blank">array_search</a></li>
</ul>
</section>
<section id="superglobales" class="slide level2">
<h2>Superglobales</h2>
<table>
<thead>
<tr class="header">
<th>Variable</th>
<th>Contenu</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>$GLOBALES</td>
<td>Les variables globales</td>
</tr>
<tr class="even">
<td>$_SERVER</td>
<td>Variables de serveur et d’exécution</td>
</tr>
<tr class="odd">
<td>$_GET</td>
<td>Paramètres d’URL</td>
</tr>
<tr class="even">
<td>$_POST</td>
<td>Payload de la requête</td>
</tr>
<tr class="odd">
<td>$_FILES</td>
<td>Fichiers uploadés</td>
</tr>
<tr class="even">
<td>$_COOKIE</td>
<td>Cookies HTTP</td>
</tr>
<tr class="odd">
<td>$_SESSION</td>
<td>Variables de session</td>
</tr>
<tr class="even">
<td>$_REQUEST</td>
<td>$_GET, $_POST et $_COOKIE</td>
</tr>
<tr class="odd">
<td>$_ENV</td>
<td>Variables d’environnement</td>
</tr>
</tbody>
</table>
</section></section>
<section>
<section id="conditions" class="title-slide slide level1">
<h1>Conditions</h1>

</section>
<section id="comparer-les-variables" class="slide level2">
<h2>Comparer les variables</h2>
<table>
<thead>
<tr class="header">
<th>Symbole</th>
<th>Signification</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>==</td>
<td>valeurs égales</td>
</tr>
<tr class="even">
<td>===</td>
<td>égal + même type</td>
</tr>
<tr class="odd">
<td>&gt;</td>
<td>supérieur</td>
</tr>
<tr class="even">
<td>&lt;</td>
<td>inférieur</td>
</tr>
<tr class="odd">
<td>&gt;=</td>
<td>supérieur ou égal</td>
</tr>
<tr class="even">
<td>&lt;=</td>
<td>inférieur ou égal</td>
</tr>
<tr class="odd">
<td>!=</td>
<td>différent</td>
</tr>
</tbody>
</table>
</section>
<section id="if-...-else" class="slide level2">
<h2><code>if ... else</code></h2>
<p>On utilise les comparaisons pour tester des cas</p>
<div class="sourceCode" id="cb30"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="va">$age</span> <span class="op">=</span> <span class="dv">17</span><span class="ot">;</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="va">$age</span> <span class="op">&lt;</span> <span class="dv">16</span>) {</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">echo</span> <span class="st">&quot;Vous ne pouvez pas passer le permis&quot;</span><span class="ot">;</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a><span class="cf">elseif</span> (<span class="va">$age</span> <span class="op">&gt;=</span> <span class="dv">18</span>) {</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">echo</span> <span class="st">&quot;Vous pouvez passer le permis&quot;</span><span class="ot">;</span></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span> {</span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">echo</span> <span class="st">&quot;Vous pouvez conduire accompagné•e&quot;</span><span class="ot">;</span></span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</section>
<section id="dans-du-html" class="slide level2">
<h2>Dans du HTML</h2>
<div class="sourceCode" id="cb31"><pre
class="sourceCode html"><code class="sourceCode html"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;?php</span> $enabled = true; <span class="kw">?&gt;</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;?php</span> if ($enabled): <span class="kw">?&gt;</span> <span class="co">&lt;!-- Ne pas oublier le &quot;:&quot; --&gt;</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">h1</span><span class="dt">&gt;</span>Activé<span class="dt">&lt;/</span><span class="kw">h1</span><span class="dt">&gt;</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;?php</span> endif; <span class="kw">?&gt;</span><span class="co">&lt;!-- Ni le &quot;;&quot; après le endif --&gt;</span></span></code></pre></div>
</section>
<section id="le-symbole" class="slide level2">
<h2>Le symbole <code>!</code></h2>
<div class="sourceCode" id="cb32"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="va">$allowed</span> <span class="op">=</span> <span class="kw">false</span><span class="ot">;</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="va">$allowed</span> <span class="op">==</span> <span class="kw">false</span>) {</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>  <span class="kw">echo</span> <span class="st">&quot;NOT ALLOWED !&quot;</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a><span class="co">// avec le symbole !</span></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="op">!</span><span class="va">$allowed</span> <span class="op">==</span> <span class="kw">true</span>) {</span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>  <span class="kw">echo</span> <span class="st">&quot;NOT ALLOWED !&quot;</span></span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p><code>!</code> permet d’inverser un booléen</p>
</section>
<section class="slide level2">

<p>En simplifiant la condition</p>
<div class="sourceCode" id="cb33"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="op">!</span><span class="va">$allowed</span>) {</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">echo</span> <span class="st">&quot;NOT ALLOWED !&quot;</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>NB : Si on le met devant un autre type,<br />
il sera converti automatiquement</p>
<div class="sourceCode" id="cb34"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="va">$string</span> <span class="op">=</span> <span class="st">&quot;Hello&quot;</span><span class="ot">;</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="kw">echo</span> <span class="op">!</span><span class="va">$string</span><span class="ot">;</span> <span class="co">// affiche: false</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="va">$array</span> <span class="op">=</span> []<span class="ot">;</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a><span class="kw">echo</span> <span class="op">!</span><span class="va">$array</span><span class="ot">;</span> <span class="co">// affiche true</span></span></code></pre></div>
</section>
<section id="conditions-multiples" class="slide level2">
<h2>Conditions multiples</h2>
<p>On peut choisir de valider plusieurs conditions avec
<code>&amp;&amp;</code></p>
<div class="sourceCode" id="cb35"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="va">$isEnabled</span> <span class="op">=</span> <span class="kw">true</span><span class="ot">;</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="va">$isOwner</span> <span class="op">=</span> <span class="kw">false</span><span class="ot">;</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="va">$isEnabled</span> <span class="op">&amp;&amp;</span> <span class="va">$isOwner</span>) {</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">echo</span> <span class="st">&#39;Accès validé ✅&#39;</span><span class="ot">;</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">echo</span> <span class="st">&#39;Accès interdit ! ❌&#39;</span><span class="ot">;</span></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</section>
<section class="slide level2">

<p>On peut aussi ne valider au moins 1 condition avec
<code>||</code></p>
<div class="sourceCode" id="cb36"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="va">$isEnabled</span> <span class="op">=</span> <span class="kw">true</span><span class="ot">;</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="va">$isOwner</span> <span class="op">=</span> <span class="kw">false</span><span class="ot">;</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="va">$isAdmin</span> <span class="op">=</span> <span class="kw">true</span><span class="ot">;</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> ((<span class="va">$isEnabled</span> <span class="op">&amp;&amp;</span> <span class="va">$isOwner</span>) <span class="op">||</span> <span class="va">$isAdmin</span>) {</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">echo</span> <span class="st">&#39;Accès validé ✅&#39;</span><span class="ot">;</span></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">echo</span> <span class="st">&#39;Accès interdit ! ❌&#39;</span><span class="ot">;</span></span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</section>
<section id="switch-...-case" class="slide level2">
<h2><code>switch ... case</code></h2>
<div class="sourceCode" id="cb37"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="va">$role</span> <span class="op">=</span> <span class="st">&quot;admin&quot;</span><span class="ot">;</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="cf">switch</span> (<span class="va">$role</span>) <span class="co">// on indique sur quelle variable on travaille</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>{ </span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">case</span> <span class="st">&quot;user&quot;</span><span class="ot">:</span> <span class="co">// signifie: $role == &quot;user&quot;</span></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>        <span class="kw">echo</span> <span class="st">&quot;Simple utilisateur&quot;</span><span class="ot">;</span></span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">break</span><span class="ot">;</span> <span class="co">// on arrête les tests</span></span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">case</span> <span class="st">&quot;owner&quot;</span><span class="ot">:</span></span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a>        <span class="kw">echo</span> <span class="st">&quot;Propriétaire&quot;</span><span class="ot">;</span></span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">break</span><span class="ot">;</span></span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">case</span> <span class="st">&quot;admin&quot;</span><span class="ot">:</span></span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a>        <span class="kw">echo</span> <span class="st">&quot;Administrateur&quot;</span><span class="ot">;</span></span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a>        <span class="cf">break</span><span class="ot">;</span></span>
<span id="cb37-16"><a href="#cb37-16" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb37-17"><a href="#cb37-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">default</span><span class="ot">:</span> <span class="co">// équivalent du &quot;else&quot;</span></span>
<span id="cb37-18"><a href="#cb37-18" aria-hidden="true" tabindex="-1"></a>        <span class="kw">echo</span> <span class="st">&quot;Ce rôle n&#39;est pas connu ?&quot;</span><span class="ot">;</span></span>
<span id="cb37-19"><a href="#cb37-19" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</section></section>
<section>
<section id="boucles" class="title-slide slide level1">
<h1>Boucles</h1>

</section>
<section id="while" class="slide level2">
<h2><code>while</code></h2>
<p>S’éxécute tant que la condition est vraie</p>
<div class="sourceCode" id="cb38"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="va">$lines</span> <span class="op">=</span> <span class="dv">1</span><span class="ot">;</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> (<span class="va">$lines</span> <span class="op">&lt;=</span> <span class="dv">100</span>) { <span class="co">// tant que la condition est valide</span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">echo</span> <span class="st">&#39;I will not burp in class&#39;</span><span class="ot">;</span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>    <span class="va">$lines</span><span class="op">++</span><span class="ot">;</span> <span class="co">// équivalent à $lines = $lines + 1</span></span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Attention à bien incrémenter <code>$lines</code> !</p>
</section>
<section id="for" class="slide level2">
<h2><code>for</code></h2>
<p>Permet d’éxécuter et de compter en même temps</p>
<div class="sourceCode" id="cb39"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="va">$array</span> <span class="op">=</span> [<span class="st">&#39;Hello&#39;</span><span class="ot">,</span> <span class="st">&#39; &#39;</span><span class="ot">,</span> <span class="st">&#39;World&#39;</span>]<span class="ot">;</span> <span class="co">// on crée un tableau</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="co">// initialisation ; condition ; incrementation</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (<span class="va">$i</span> <span class="op">=</span> <span class="dv">0</span><span class="ot">;</span> <span class="va">$i</span> <span class="op">&lt;=</span> <span class="dv">2</span><span class="ot">;</span> <span class="va">$i</span><span class="op">++</span>)</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">echo</span> <span class="va">$array</span>[<span class="va">$i</span>]<span class="ot">;</span> <span class="co">// on affiche les éléments</span></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</section>
<section id="dans-du-html-1" class="slide level2">
<h2>Dans du HTML</h2>
<div class="sourceCode" id="cb40"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;?php</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="va">$array</span> <span class="op">=</span> [<span class="st">&#39;Hello&#39;</span><span class="ot">,</span> <span class="st">&#39; &#39;</span><span class="ot">,</span> <span class="st">&#39;World&#39;</span>]<span class="ot">;</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a><span class="kw">?&gt;</span></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>p<span class="op">&gt;</span></span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>    <span class="op">&lt;</span><span class="ot">?</span>php <span class="cf">for</span> (<span class="va">$i</span> <span class="op">=</span> <span class="dv">0</span><span class="ot">;</span> <span class="va">$i</span> <span class="op">&lt;=</span> <span class="dv">2</span><span class="ot">;</span> <span class="va">$i</span><span class="op">++</span>)<span class="ot">:</span> <span class="kw">?&gt;</span></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>        <span class="op">&lt;</span>span<span class="op">&gt;&lt;</span><span class="ot">?</span>php <span class="kw">echo</span> <span class="va">$array</span>[<span class="va">$i</span>]<span class="kw">?&gt;</span><span class="op">&lt;/</span>span<span class="op">&gt;</span></span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>    <span class="op">&lt;</span><span class="ot">?</span>php <span class="cf">endfor</span><span class="ot">;</span> <span class="kw">?&gt;</span></span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;/</span>p<span class="op">&gt;</span></span></code></pre></div>
</section>
<section id="while-ou-for" class="slide level2">
<h2><code>while</code> ou <code>for</code></h2>
<p>Est-ce que je sais combien de fois<br />
je veux répéter mes instructions ?</p>
<p>Si oui on utilise <code>for</code> sinon <code>while</code></p>
</section>
<section id="foreach" class="slide level2">
<h2><code>foreach</code></h2>
<h3 id="valeur-seule">Valeur seule</h3>
<div class="sourceCode" id="cb41"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="va">$a</span> <span class="op">=</span> <span class="dt">array</span>(<span class="dv">1</span><span class="ot">,</span> <span class="dv">2</span><span class="ot">,</span> <span class="dv">3</span><span class="ot">,</span> <span class="dv">17</span>)<span class="ot">;</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a><span class="cf">foreach</span> (<span class="va">$a</span> <span class="kw">as</span> <span class="va">$value</span>) {</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">echo</span> <span class="st">&quot;Valeur de </span><span class="sc">\$</span><span class="st">a: </span><span class="va">$value</span><span class="st">.</span><span class="sc">\n</span><span class="st">&quot;</span><span class="ot">;</span></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</section>
<section class="slide level2">

<h3 id="clé---valeur">Clé - valeur</h3>
<div class="sourceCode" id="cb42"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="va">$a</span> <span class="op">=</span> <span class="dt">array</span>(</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;un&quot;</span> =&gt; <span class="dv">1</span><span class="ot">,</span></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;deux&quot;</span> =&gt; <span class="dv">2</span><span class="ot">,</span></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;trois&quot;</span> =&gt; <span class="dv">3</span><span class="ot">,</span></span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;dix-sept&quot;</span> =&gt; <span class="dv">17</span></span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>)<span class="ot">;</span></span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a><span class="cf">foreach</span> (<span class="va">$a</span> <span class="kw">as</span> <span class="va">$key</span> =&gt; <span class="va">$value</span>) {</span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">echo</span> <span class="st">&quot;</span><span class="sc">\$</span><span class="st">a[</span><span class="va">$key</span><span class="st">] =&gt; </span><span class="va">$value</span><span class="st">.</span><span class="sc">\n</span><span class="st">&quot;</span><span class="ot">;</span></span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</section></section>
<section>
<section id="fonctions" class="title-slide slide level1">
<h1>Fonctions</h1>

</section>
<section id="déclaration" class="slide level2">
<h2>Déclaration</h2>
<p>On peut déclarer ses propres fonctions</p>
<div class="sourceCode" id="cb43"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co">// function nom(arguments)</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> foo(<span class="va">$arg_1</span><span class="ot">,</span> <span class="va">$arg_2</span>) <span class="co">// on défini la fonction</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="va">$arg_1</span> <span class="op">+</span> <span class="va">$arg_2</span><span class="ot">;</span> <span class="co">// on renvoie une valeur</span></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a><span class="kw">echo</span> foo(<span class="dv">1</span><span class="ot">,</span> <span class="dv">2</span>)<span class="ot">;</span> <span class="co">// on appelle la fonction</span></span></code></pre></div>
<p>Les fonctions ont une portée <code>globale</code><br />
Elles permettent de <code>factoriser</code> le code</p>
</section>
<section id="autre-exemple" class="slide level2">
<h2>Autre exemple</h2>
<div class="sourceCode" id="cb44"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co">// types pour la fonction et les arguments</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> isValidUser(<span class="dt">array</span> <span class="va">$user</span>) <span class="ot">:</span> <span class="dt">bool</span> </span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="fu">array_key_exists</span>(<span class="st">&#39;is_valid&#39;</span><span class="ot">,</span> <span class="va">$user</span>)) {</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>        <span class="co">// si l&#39;utilisateur a un statut on le renvoie</span></span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">$user</span>[<span class="st">&#39;is_valid&#39;</span>]<span class="ot">;</span></span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>        <span class="co">// sinon on considère qu&#39;il est invalide</span></span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="kw">false</span><span class="ot">;</span></span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</section>
<section id="fonction-pré-définies" class="slide level2">
<h2>Fonction pré-définies</h2>
<p>PHP met à disposition pas mal de fonctions très utiles :</p>
<ul>
<li><a href="https://www.php.net/manual/fr/function.strlen.php"
target="_blank">strlen</a> : donne la <em>longueur</em> d’un texte</li>
<li><a href="https://www.php.net/manual/fr/function.str-replace.php"
target="_blank">str_replace</a> : <em>recherche et remplace</em> dans
une chaîne</li>
<li><a
href="https://www.php.net/manual/fr/function.move-uploaded-file.php"
target="_blank">move_uploaded_file</a> : <em>déplace un fichier</em>
téléversé</li>
<li><a href="https://www.php.net/manual/fr/function.mail.php"
target="_blank">mail</a> : <em>envoyer un mail</em></li>
<li><a href="https://www.php.net/manual/fr/function.crypt"
target="_blank">crypt</a> : <em>chiffrer du texte</em></li>
<li><a href="https://www.php.net/manual/fr/function.date"
target="_blank">date</a> : <em>date et heure</em></li>
<li>etc…</li>
</ul>
</section></section>
<section>
<section id="extensions" class="title-slide slide level1">
<h1>Extensions</h1>

</section>
<section id="extension-fonctionnalité" class="slide level2">
<h2>Extension = fonctionnalité</h2>
<p>Il existe <a
href="https://www.php.net/manual/fr/extensions.membership.php">beaucoup
d’extensions</a><br />
Certaines sont <code>internes</code> car sont disponibles de base<br />
D’autres peuvent être <code>embarquées</code> à la compilation Certaines
vont nécessiter des libs <code>externes</code></p>
</section>
<section id="quelques-extensions-utiles" class="slide level2">
<h2>Quelques extensions utiles</h2>
<ul>
<li><code>cURL</code> : accéder à des URL</li>
<li><code>intl</code> : Internationalization</li>
<li><code>DateTime</code>: manipulation des dates</li>
<li><code>session</code> : utilisation des sessions</li>
<li><code>GD</code> / ImageMagick : manipulation d’images</li>
<li><code>PDO</code> : accès à des bases de données</li>
<li><code>FTP</code> : connexion à des ftp</li>
<li><code>Zip</code> : gestion des fichiers zip</li>
</ul>
</section></section>
<section>
<section id="débogage" class="title-slide slide level1">
<h1>Débogage</h1>

</section>
<section id="afficher-les-erreurs" class="slide level2">
<h2>Afficher les erreurs</h2>
<p><code>display_errors</code><br />
on affiche les erreurs</p>
<p><code>error_reporting</code><br />
spécifie le niveau à afficher</p>
</section>
<section id="utilisation-de-error_reporting" class="slide level2">
<h2>Utilisation de <code>error_reporting</code></h2>
<div class="sourceCode" id="cb45"><pre
class="sourceCode ini"><code class="sourceCode ini"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="kw">[php]</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="dt">display_errors </span><span class="ot">=</span><span class="st"> </span><span class="kw">On</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a><span class="dt">error_reporting </span><span class="ot">=</span><span class="st">  </span><span class="kw">E_ALL</span><span class="st"> &amp; ~</span><span class="kw">E_NOTICE</span><span class="st"> &amp; ~</span><span class="kw">E_STRICT</span><span class="st"> &amp; ~E_DEPRECATED</span></span></code></pre></div>
</section>
<section id="niveau-derreurs" class="slide level2">
<h2>Niveau d’erreurs</h2>
<table>
<thead>
<tr class="header">
<th>mot-clé</th>
<th>niveau</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>E_ERROR</td>
<td>erreurs fatales</td>
</tr>
<tr class="even">
<td>E_WARNING</td>
<td>avertissements</td>
</tr>
<tr class="odd">
<td>E_PARSE</td>
<td>syntaxe</td>
</tr>
<tr class="even">
<td>E_NOTICE</td>
<td>info</td>
</tr>
<tr class="odd">
<td>E_STRICT</td>
<td>compatibilité</td>
</tr>
<tr class="even">
<td>E_DEPRECATED</td>
<td>déprécation</td>
</tr>
<tr class="odd">
<td>E_ALL</td>
<td>toutes</td>
</tr>
</tbody>
</table>
</section>
<section id="parse-error" class="slide level2">
<h2><code>Parse error</code></h2>
<p>Un instruction a été mal formulée…</p>
<pre><code>Parse error: syntax error in error.php on line 7</code></pre>
<ul>
<li>Oubli du <code>;</code> à la fin d’une ligne<br />
</li>
<li>Chaîne mal délimitée (il manque <code>"</code> ou
<code>'</code>)<br />
</li>
<li>Oubli du <code>.</code> lors d’une concaténation</li>
<li>Accolade mal fermée</li>
<li>etc…</li>
</ul>
</section>
<section id="undefined-function" class="slide level2">
<h2><code>Undefined function</code></h2>
<p>Indique que la fonction utilisée <em>n’existe pas</em></p>
<pre><code>Fatal Error: Call to undefined function: my_function() in fichier.php on line 27</code></pre>
<p>Peut-être parce qu’une <code>extension</code> n’est <em>pas
activée</em></p>
</section>
<section id="wrong-parameter" class="slide level2">
<h2><code>Wrong parameter</code></h2>
<p>Indique qu’une fonction a mal été utilisée</p>
<pre><code>Warning: Wrong parameter count for fonction() in fichier.php on line 112</code></pre>
<p>Ne pas hésiter à vérifier la doc</p>
</section>
<section id="headers-already-sent" class="slide level2">
<h2><code>Headers already sent</code></h2>
<p>Les headers sont <em>envoyés en premier</em> au navigateur</p>
<p>On les envoie en utilisant la fonction <code>header</code></p>
<p>Mais d’autres fonctions envoient aussi ces infos,<br />
comme <code>session_start</code> ou <code>setcookie</code></p>
<p>Si on met des contenus avant ça génère l’erreur</p>
<div class="sourceCode" id="cb49"><pre
class="sourceCode html"><code class="sourceCode html"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">html</span><span class="dt">&gt;</span> <span class="co">&lt;!-- La balise est avant les headers --&gt;</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;?php</span> session_start(); <span class="kw">?&gt;</span></span></code></pre></div>
</section></section>
<section>
<section id="fichiers" class="title-slide slide level1">
<h1>Fichiers</h1>

</section>
<section id="include-et-include_once" class="slide level2">
<h2><code>include</code> et <code>include_once</code></h2>
<p>Permet d’ajouter le contenu d’un autre fichier<br />
à l’endroit où la fonction est appelée</p>
<div class="sourceCode" id="cb50"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="kw">include</span>(<span class="st">&#39;monfichier.php&#39;</span>)<span class="ot">;</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="kw">include_once</span>(<span class="st">&#39;monfichier.php&#39;</span>)<span class="ot">;</span></span></code></pre></div>
<p><code>include_once</code> ne va pas ajouter du code déjà inclus</p>
</section>
<section id="require-et-require_once" class="slide level2">
<h2><code>require</code> et <code>require_once</code></h2>
<p>même principe mais le programme s’arrête<br />
si le fichier n’existe pas</p>
<div class="sourceCode" id="cb51"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="kw">require</span>(<span class="st">&#39;monfichier.php&#39;</span>)<span class="ot">;</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="kw">require_once</span>(<span class="st">&#39;monfichier.php&#39;</span>)<span class="ot">;</span></span></code></pre></div>
</section>
<section id="dirname" class="slide level2">
<h2><code>dirname</code></h2>
<p>Permet de savoir dans quel fichier on se trouve</p>
<div class="sourceCode" id="cb52"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="kw">include_once</span>(<span class="fu">dirname</span>(<span class="cn">__FILE__</span>) <span class="op">.</span> <span class="st">&#39;/config.inc.php&#39;</span>)<span class="ot">;</span></span></code></pre></div>
<p>Utiliser des chemins relatifs permet<br />
une meilleure <code>portabilité</code> du code</p>
</section>
<section id="structure-de-page" class="slide level2">
<h2>Structure de page</h2>
<p><img data-src="./images/structure.png" /></p>
</section></section>
<section>
<section id="envoi-de-données" class="title-slide slide level1">
<h1>Envoi de données</h1>

</section>
<section id="via-lurl" class="slide level2">
<h2>Via l’URL</h2>
<p><img data-src="./images/url_get.png" /></p>
<p><code>?</code> au début des paramètres</p>
<p><code>&amp;</code> entre chaque paramètre</p>
</section>
<section id="html" class="slide level2">
<h2>HTML</h2>
<p>On utilise <code>method="GET"</code> dans le formulaire</p>
<div class="sourceCode" id="cb53"><pre
class="sourceCode html"><code class="sourceCode html"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">form</span><span class="ot"> action</span><span class="op">=</span><span class="st">&quot;contact.php&quot;</span><span class="ot"> method</span><span class="op">=</span><span class="st">&quot;GET&quot;</span><span class="dt">&gt;</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&lt;</span><span class="kw">label</span><span class="ot"> for</span><span class="op">=</span><span class="st">&quot;prenom&quot;</span><span class="dt">&gt;</span>Prénom<span class="dt">&lt;/</span><span class="kw">label</span><span class="dt">&gt;</span></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&lt;</span><span class="kw">input</span><span class="ot"> id</span><span class="op">=</span><span class="st">&quot;prenom&quot;</span><span class="ot"> name</span><span class="op">=</span><span class="st">&quot;prenom&quot;</span><span class="dt">&gt;</span></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&lt;</span><span class="kw">label</span><span class="ot"> for</span><span class="op">=</span><span class="st">&quot;nom&quot;</span><span class="dt">&gt;</span>Nom<span class="dt">&lt;/</span><span class="kw">label</span><span class="dt">&gt;</span></span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&lt;</span><span class="kw">input</span><span class="ot"> id</span><span class="op">=</span><span class="st">&quot;nom&quot;</span><span class="ot"> name</span><span class="op">=</span><span class="st">&quot;nom&quot;</span><span class="dt">&gt;</span></span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">form</span><span class="dt">&gt;</span></span></code></pre></div>
</section>
<section id="php" class="slide level2">
<h2>PHP</h2>
<p>Via la superglobale <code>$_GET</code><br />
On peut récupérer les paramètres</p>
<div class="sourceCode" id="cb54"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="va">$prenom</span> <span class="op">=</span> <span class="va">$_GET</span>[<span class="st">&#39;prenom&#39;</span>]<span class="ot">;</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a><span class="va">$nom</span> <span class="op">=</span> <span class="va">$_GET</span>[<span class="st">&#39;nom&#39;</span>]<span class="ot">;</span></span></code></pre></div>
</section>
<section id="méthode-post" class="slide level2">
<h2>Méthode POST</h2>
<div class="sourceCode" id="cb55"><pre
class="sourceCode html"><code class="sourceCode html"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">form</span><span class="ot"> action</span><span class="op">=</span><span class="st">&quot;contact.php&quot;</span><span class="ot"> method</span><span class="op">=</span><span class="st">&quot;POST&quot;</span><span class="dt">&gt;</span></span></code></pre></div>
<p>Les données n’apparaissent pas dans l’URL<br />
Mais on peut quand même les manipuler</p>
<div class="sourceCode" id="cb56"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="va">$prenom</span> <span class="op">=</span> <span class="va">$_POST</span>[<span class="st">&#39;prenom&#39;</span>]<span class="ot">;</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="va">$nom</span> <span class="op">=</span> <span class="va">$_POST</span>[<span class="st">&#39;nom&#39;</span>]<span class="ot">;</span></span></code></pre></div>
</section>
<section id="problèmes" class="slide level2">
<h2>Problèmes</h2>
<ul>
<li>Tout le monde voit les données</li>
<li>Elles peuvent être modifiées</li>
<li>On peut oublier des variables</li>
<li>Attention à l’injection de code !</li>
</ul>
</section>
<section id="solutions" class="slide level2">
<h2>Solutions</h2>
<p>Ne jamais faire confiance aux données !<br />
On peut utiliser la fonction <a
href="https://www.php.net/manual/fr/function.filter-var.php"
target="_blank">filter_var</a> pour :</p>
<ul>
<li><a href="https://www.php.net/manual/fr/filter.filters.validate.php"
target="_blank">Valider les données</a></li>
<li><a href="https://www.php.net/manual/fr/filter.filters.sanitize.php"
target="_blank">Nettoyer les données</a></li>
</ul>
</section>
<section id="exemple-failles-xss" class="slide level2">
<h2>Exemple: Failles XSS</h2>
<p>On peut envoyer du HTML dans une variable</p>
<div class="sourceCode" id="cb57"><pre
class="sourceCode html"><code class="sourceCode html"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">script</span><span class="dt">&gt;</span><span class="fu">alert</span>(<span class="st">&#39;Badaboum&#39;</span>)<span class="dt">&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span></code></pre></div>
<p>Le navigateur peut interpréter ce code</p>
<p>et afficher une alerte</p>
<p><img data-src="./images/alert.jpg" /></p>
</section>
<section id="solutions-1" class="slide level2">
<h2>Solutions</h2>
<ol type="1">
<li><p>Retirer les <em>balises HTML</em> avec <a
href="https://www.php.net/manual/fr/function.strip-tags"
target="_blank">strip_tags</a></p></li>
<li><p>Encoder les <em>caractères HTML</em> avec <a
href="https://www.php.net/manual/fr/function.htmlspecialchars.php"
target="_blank">htmlspecialchars</a> :</p></li>
</ol>
<p><code>&lt;</code> et <code>&gt;</code> sont transformés en
<code>&amp;lt;</code> et <code>&amp;rt;</code></p>
<p>Le navigateur va les afficher sans les interpréter</p>
</section></section>
<section>
<section id="envoi-de-fichiers" class="title-slide slide level1">
<h1>Envoi de fichiers</h1>

</section>
<section id="formulaire" class="slide level2">
<h2>Formulaire</h2>
<div class="sourceCode" id="cb58"><pre
class="sourceCode html"><code class="sourceCode html"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!-- enctype=&quot;multipart/form-data&quot; permet d&#39;envoyer des fichiers --&gt;</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">form</span><span class="ot"> action</span><span class="op">=</span><span class="st">&quot;upload.php&quot;</span><span class="ot"> method</span><span class="op">=</span><span class="st">&quot;POST&quot;</span><span class="ot"> enctype</span><span class="op">=</span><span class="st">&quot;multipart/form-data&quot;</span><span class="dt">&gt;</span></span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&lt;</span><span class="kw">label</span><span class="ot"> for</span><span class="op">=</span><span class="st">&quot;upload&quot;</span><span class="dt">&gt;</span>Fichier<span class="dt">&lt;/</span><span class="kw">label</span><span class="dt">&gt;</span></span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&lt;</span><span class="kw">input</span><span class="ot"> id</span><span class="op">=</span><span class="st">&quot;upload&quot;</span><span class="ot"> name</span><span class="op">=</span><span class="st">&quot;upload&quot;</span><span class="ot"> type</span><span class="op">=</span><span class="st">&quot;file&quot;</span><span class="ot"> </span><span class="dt">/&gt;</span></span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">form</span><span class="dt">&gt;</span></span></code></pre></div>
</section>
<section id="en-php" class="slide level2">
<h2>En PHP</h2>
<p>On utilise <code>$_FILES</code> un tableau qui contient les
fichiers</p>
<p>Dans notre cas, <code>$_FILES['upload']</code> contiendra :</p>
<ul>
<li><code>name</code> : le chemin d’origine</li>
<li><code>type</code> : le <a
href="https://fr.wikipedia.org/wiki/Type_de_m%C3%A9dias"
target="_blank">type MIME</a></li>
<li><code>tmp_name</code> : le chemin temporaire</li>
<li><code>size</code> : la taille en octet</li>
<li><code>error</code> : <a
href="https://www.php.net/manual/en/features.file-upload.errors.php"
target="_blank">débogage</a></li>
</ul>
</section>
<section id="validation" class="slide level2">
<h2>Validation</h2>
<div class="sourceCode" id="cb59"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co">// on valide la présence du fichier et les erreurs</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="kw">isset</span>(<span class="va">$_FILES</span>[<span class="st">&#39;upload&#39;</span>]) <span class="op">&amp;&amp;</span> <span class="va">$_FILES</span>[<span class="st">&#39;upload&#39;</span>][<span class="st">&#39;error&#39;</span>] <span class="op">===</span> <span class="cn">UPLOAD_ERR_OK</span>)</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>[...]</span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a><span class="co">// on valide que la taille est en dessous de la limite</span></span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="va">$_FILES</span>[<span class="st">&#39;screenshot&#39;</span>][<span class="st">&#39;size&#39;</span>] <span class="op">&lt;=</span> <span class="dv">1000000</span>)</span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a>[...]</span></code></pre></div>
</section>
<section id="pathinfo" class="slide level2">
<h2><code>pathinfo</code></h2>
<p>Permet d’avoir les <a
href="https://www.php.net/manual/fr/function.pathinfo"
target="_blank">infos sur un chemin</a> de fichier</p>
<div class="sourceCode" id="cb60"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="va">$path_parts</span> <span class="op">=</span> <span class="fu">pathinfo</span>(<span class="st">&#39;/www/htdocs/inc/lib.inc.php&#39;</span>)<span class="ot">;</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a><span class="kw">echo</span> <span class="va">$path_parts</span>[<span class="st">&#39;dirname&#39;</span>]<span class="ot">;</span> <span class="co">// affiche: /www/htdocs/inc</span></span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a><span class="kw">echo</span> <span class="va">$path_parts</span>[<span class="st">&#39;basename&#39;</span>]<span class="ot">;</span> <span class="co">// affiche: lib.inc.php</span></span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a><span class="kw">echo</span> <span class="va">$path_parts</span>[<span class="st">&#39;extension&#39;</span>]<span class="ot">;</span> <span class="co">// affiche: php</span></span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a><span class="kw">echo</span> <span class="va">$path_parts</span>[<span class="st">&#39;filename&#39;</span>]<span class="ot">;</span> <span class="co">// affiche: lib.inc</span></span></code></pre></div>
<p>On peut avoir le nom du fichier seul avec <a
href="https://www.php.net/manual/fr/function.basename"
target="_blank">basename</a></p>
<div class="sourceCode" id="cb61"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="kw">echo</span> <span class="fu">basename</span>(<span class="st">&#39;c:\dossier\fichier.png&#39;</span>)<span class="ot">;</span><span class="co">// affiche: fichier.png</span></span></code></pre></div>
</section>
<section id="move_uploaded_file" class="slide level2">
<h2><code>move_uploaded_file</code></h2>
<p>Permet de déplacer le fichier sur le serveur</p>
<div class="sourceCode" id="cb62"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="va">$source</span> <span class="op">=</span> <span class="va">$_FILES</span>[<span class="st">&#39;upload&#39;</span>][<span class="st">&#39;tmp_name&#39;</span>]<span class="ot">;</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a><span class="va">$dest</span> <span class="op">=</span>  <span class="st">&#39;uploads/&#39;</span> <span class="op">.</span> <span class="fu">basename</span>(<span class="va">$_FILES</span>[<span class="st">&#39;upload&#39;</span>][<span class="st">&#39;name&#39;</span>])<span class="ot">;</span></span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">move_uploaded_file</span>(<span class="va">$source</span><span class="ot">,</span> <span class="va">$dest</span>)) {</span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a>  <span class="kw">echo</span> <span class="st">&#39;Le fichier a été enregistré&#39;</span><span class="ot">;</span></span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</section></section>
<section>
<section id="session" class="title-slide slide level1">
<h1>Session</h1>

</section>
<section id="persistance" class="slide level2">
<h2>Persistance</h2>
<p>On peut transmettre des données au serveur</p>
<p>Si on veut les <em>garder entre deux requêtes</em>,<br />
On utilise les <a href="https://www.php.net/manual/fr/book.session.php"
target="_blank">sessions</a> stockée côté serveur</p>
</section>
<section id="activer" class="slide level2">
<h2>Activer</h2>
<p>Pour démarrer une session on utilise <code>session_start</code></p>
<div class="sourceCode" id="cb63"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="fu">session_start</span>()<span class="ot">;</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a><span class="kw">echo</span> <span class="fu">session_id</span>()<span class="ot">;</span> <span class="co">// affiche le numéro de session</span></span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a><span class="co">// on peut stocker des données</span></span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a><span class="va">$_SESSION</span>[<span class="st">&#39;login&#39;</span>] <span class="op">=</span> <span class="st">&#39;nom@email.fr&#39;</span><span class="ot">;</span></span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true" tabindex="-1"></a><span class="va">$_SESSION</span>[<span class="st">&#39;password&#39;</span>]   <span class="op">=</span> <span class="st">&#39;1234567890&#39;</span><span class="ot">;</span></span></code></pre></div>
<p>Ceci rend disponible la variable <code>$_SESSION</code><br />
On y met les données qu’on veut garder</p>
</section>
<section id="récupérer-la-session" class="slide level2">
<h2>Récupérer la session</h2>
<p>Lorsqu’un <code>id</code> de session est envoyé via un cookie<br />
la session va <em>automatiquement</em> être récupérée<br />
lors de l’appel à <code>session_start</code></p>
<p><code>$_SESSION</code> va se remplir avec ce qu’on y a<br />
enregistré dans les requêtes précédentes</p>
</section>
<section id="terminer-la-session" class="slide level2">
<h2>Terminer la session</h2>
<p>La session va <em>expirer</em> si aucune requête n’est<br />
effectuée <em>pendant un certain temps</em> (<code>timeout</code>)</p>
<p>On peut aussi vider <code>$_SESSION</code><br />
puis appeler <code>session_destroy</code></p>
<div class="sourceCode" id="cb64"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="va">$_SESSION</span> <span class="op">=</span> []<span class="ot">;</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a><span class="fu">session_destroy</span>()<span class="ot">;</span></span></code></pre></div>
</section></section>
<section>
<section id="cookies" class="title-slide slide level1">
<h1>Cookies</h1>

</section>
<section id="cest-quoi" class="slide level2">
<h2>C’est quoi ?</h2>
<p>Des données fournies <em>par le serveur</em><br />
et stockée <em>par le navigateur</em><br />
puis renvoyée au serveur <em>à chaque requête</em></p>
<p>C’est le cas de <em>l’identifiant de session</em></p>
</section>
<section id="utilisation" class="slide level2">
<h2>Utilisation</h2>
<p>La fonction <a
href="https://www.php.net/manual/fr/function.setcookie.php"
target="_blank">setcookie</a> permet de<br />
<em>créer</em> ou <em>modifier</em> des cookies</p>
<div class="sourceCode" id="cb65"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setcookie</span>(<span class="st">&#39;LOGGED_USER&#39;</span><span class="ot">,</span> <span class="st">&#39;utilisateur@exemple.com&#39;</span>)<span class="ot">;</span></span></code></pre></div>
</section>
<section id="sécurité" class="slide level2">
<h2>Sécurité</h2>
<p>Les cookies sont sujets aux <em>failles XSS</em>.</p>
<p>Pour les <em>rendre indisponible au JS</em><br />
on peut utiliser l’option <code>httpOnly</code></p>
</section></section>
<section>
<section id="section-2" class="title-slide slide level1">
<h1><img data-src="./images/mysql-logo.png" /></h1>

</section>
<section id="sgdb-sql" class="slide level2">
<h2>SGDB ? SQL ?</h2>
<p><em>S</em>ystème de <em>G</em>estion de <em>B</em>ase de
<em>D</em>onnées</p>
<p>Certains utilisent <em>S</em>tructured <em>Q</em>uery
<em>L</em>anguage<br />
(MySQL, PostgreSQL, …)</p>
<p>D’autre <em>N</em>ot <em>o</em>nly <em>SQL</em> (pas seulement
SQL)<br />
(MongoDB, CouchDB, …)</p>
<p>Nous allons nous concentrer sur <code>MySQL</code></p>
</section>
<section id="mysql" class="slide level2">
<h2>My<em>SQL</em></h2>
<p>Développé à partir de <em>1994</em> en Suède<br />
Première version grand public en <em>2000</em></p>
<p>Racheté par <em>Sun Microsystems</em> en 2008<br />
qui a été incorporé à <em>Oracle</em> en 2009</p>
<p>Cette même année est créé <em>MariaDB</em><br />
une version open source de MySQL</p>
</section>
<section id="enregistrer-des-données" class="slide level2">
<h2>Enregistrer des données</h2>
<p>On pourrait utiliser un simple <em>fichier texte</em><br />
mais ça deviendrai vite le bazar</p>
<p>Du coup on utilise à la place des <em>bases de données</em><br />
qui permettent de les organiser</p>
</section>
<section id="exemple-de-requête" class="slide level2">
<h2>Exemple de requête</h2>
<div class="sourceCode" id="cb66"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="kw">id</span>, name, email, <span class="kw">password</span> <span class="kw">FROM</span> <span class="fu">user</span> <span class="kw">ORDER</span> <span class="kw">BY</span> name <span class="kw">ASC</span></span></code></pre></div>
</section>
<section id="intégration-à-php" class="slide level2">
<h2>Intégration à PHP</h2>
<p><img data-src="./images/php_mysql.png" /></p>
</section></section>
<section>
<section id="structured-query-language"
class="title-slide slide level1">
<h1><em>S</em>tructured <em>Q</em>uery <em>L</em>anguage</h1>

</section>
<section id="base" class="slide level2">
<h2>Base</h2>
<p>La <em>base de donnée</em> est comme une boîte<br />
qui va contenir des données liées entre elles</p>
<p><img data-src="./images/base-de-donnees.png" /></p>
</section>
<section id="table" class="slide level2">
<h2>Table</h2>
<p>Chaque <em>table</em> est un tiroir de la boîte.<br />
Chaque colonne est un <em>champ</em><br />
Chaque ligne est une <em>entrée</em></p>
<table>
<thead>
<tr class="header">
<th>id</th>
<th>name</th>
<th>email</th>
<th>password</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Alice</td>
<td>alice@ecv.fr</td>
<td>1234567890</td>
</tr>
<tr class="even">
<td>2</td>
<td>Bob</td>
<td>bob@ecv.fr</td>
<td>mot_de_passe</td>
</tr>
<tr class="odd">
<td>5</td>
<td>Charles</td>
<td>charles@ecv.fr</td>
<td>p@ssw0rd</td>
</tr>
</tbody>
</table>
</section>
<section id="adminer" class="slide level2">
<h2>Adminer</h2>
<p>Il s’agit d’un outil écrit en PHP pour gérer les BDD</p>
<p><img data-src="./images/adminer.png" /></p>
</section>
<section id="fichiers-sql" class="slide level2">
<h2>Fichiers SQL</h2>
<p>On peut exporter la structure et les données<br />
d’une ou plusieurs BDD via un fichier <em>SQL</em></p>
<p>Ce fichier permet d’importer les données<br />
rapidement dans un autre serveur</p>
</section></section>
<section>
<section id="pdo" class="title-slide slide level1">
<h1>PDO</h1>

</section>
<section id="cest-quoi-1" class="slide level2">
<h2>C’est quoi ?</h2>
<p><em>P</em>HP <em>D</em>ata <em>O</em>bject est une <em>couche
d’abstraction</em><br />
pour manipuler les bases de données</p>
<p>On l’utilise via une <a
href="https://www.php.net/manual/fr/book.pdo.php">extension PHP</a>
et<br />
il faut installer <em>les bons drivers</em> (ici MySQL)</p>
</section>
<section id="comment-ça-fonctionne" class="slide level2">
<h2>Comment ça fonctionne ?</h2>
<p>On invoque un <em>objet</em> <code>PDO</code> qui permet<br />
de connecter et requêter la BDD</p>
<div class="sourceCode" id="cb67"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="va">$dsn</span> <span class="op">=</span> <span class="st">&#39;mysql:host=localhost;dbname=my_recipes;charset=utf8&#39;</span><span class="ot">;</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a><span class="va">$bdd</span> <span class="op">=</span> <span class="kw">new</span> <span class="bu">PDO</span>(<span class="va">$dsn</span><span class="ot">,</span> <span class="st">&#39;user&#39;</span><span class="ot">,</span> <span class="st">&#39;password&#39;</span>)<span class="ot">;</span></span></code></pre></div>
</section>
<section id="exemple-de-requête-1" class="slide level2">
<h2>Exemple de requête</h2>
<div class="sourceCode" id="cb68"><pre
class="sourceCode php"><code class="sourceCode php"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="va">$req</span> <span class="op">=</span> <span class="va">$db</span>-&gt;prepare(<span class="st">&quot;SELECT name, colour FROM fruit&quot;</span>)<span class="ot">;</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a><span class="va">$req</span>-&gt;execute()<span class="ot">;</span></span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a><span class="co">// Récupère toutes les données</span></span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a><span class="va">$result</span> <span class="op">=</span> <span class="va">$req</span>-&gt;fetchAll()<span class="ot">;</span></span>
<span id="cb68-6"><a href="#cb68-6" aria-hidden="true" tabindex="-1"></a><span class="fu">print_r</span>(<span class="va">$result</span>)<span class="ot">;</span></span></code></pre></div>
</section></section>
<section>
<section id="les-requêtes" class="title-slide slide level1">
<h1>Les requêtes</h1>

</section>
<section id="syntaxe" class="slide level2">
<h2>Syntaxe</h2>
<p>Les instructions en SQL finissent aussi par <code>;</code><br />
Par convention on écrit les <em>mots-clés en majuscule</em>.</p>
<p><img data-src="./images/sql_guillemets.png" /></p>
</section>
<section id="create-database" class="slide level2">
<h2><code>CREATE DATABASE</code></h2>
<p>Pour créer une BDD</p>
<div class="sourceCode" id="cb69"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">DATABASE</span> nomdelabase;</span></code></pre></div>
<p>Pour sélectionner la BDD on utilise:</p>
<div class="sourceCode" id="cb70"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="kw">USE</span> nomdelabase;</span></code></pre></div>
</section>
<section id="drop-database" class="slide level2">
<h2><code>DROP DATABASE</code></h2>
<p>Supprimer une BDD</p>
<div class="sourceCode" id="cb71"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="kw">DROP</span> <span class="kw">DATABASE</span> nomdelabase;</span></code></pre></div>
</section>
<section id="create-table" class="slide level2">
<h2><code>CREATE TABLE</code></h2>
<p>Permet de créer une table</p>
<div class="sourceCode" id="cb72"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> <span class="fu">user</span> (</span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">id</span> <span class="dt">INTEGER</span> <span class="kw">NOT</span> <span class="kw">NULL</span> AUTO_INCREMENT <span class="kw">PRIMARY</span> <span class="kw">KEY</span>,</span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>    name <span class="dt">VARCHAR</span>(<span class="dv">100</span>),</span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>    email <span class="dt">VARCHAR</span>(<span class="dv">255</span>) <span class="kw">NOT</span> <span class="kw">NULL</span> <span class="kw">UNIQUE</span>,</span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">password</span> <span class="dt">VARCHAR</span>(<span class="dv">100</span>) <span class="kw">NOT</span> <span class="kw">NULL</span></span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a>);</span></code></pre></div>
</section>
<section id="drop-table" class="slide level2">
<h2><code>DROP TABLE</code></h2>
<p>Permet de supprimer une table</p>
<div class="sourceCode" id="cb73"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="kw">DROP</span> <span class="kw">TABLE</span> <span class="fu">user</span>;</span></code></pre></div>
</section></section>
<section>
<section id="les-entrées" class="title-slide slide level1">
<h1>Les entrées</h1>

</section>
<section id="insert" class="slide level2">
<h2><code>INSERT</code></h2>
<p>Ajouter des entrées dans une table</p>
<div class="sourceCode" id="cb74"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="kw">INSERT</span> <span class="kw">INTO</span> </span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>    `user` (`name`, `email`, `password`) </span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a><span class="kw">VALUES</span> </span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a>    (`Alice`, `alice@ecv.fr`, `mot_de_passe`),</span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a>    (`Bob`, `bob@ecv.fr`, `<span class="dv">1234567890</span>`);</span></code></pre></div>
</section>
<section id="select" class="slide level2">
<h2><code>SELECT</code></h2>
<p>Récupérer les entrées d’une table</p>
<div class="sourceCode" id="cb75"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span> <span class="kw">from</span> <span class="fu">user</span>; <span class="co">-- tous les champs de tous les users</span></span></code></pre></div>
<p>On peut spécifier les champs à récupérer :</p>
<div class="sourceCode" id="cb76"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a># tous les champs sauf <span class="st">&#39;password&#39;</span> </span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="kw">id</span>, name, email <span class="kw">FROM</span> <span class="fu">user</span>;</span></code></pre></div>
</section>
<section id="update" class="slide level2">
<h2><code>UPDATE</code></h2>
<p>Mettre à jour des entrées</p>
<div class="sourceCode" id="cb77"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="kw">UPDATE</span> `user` </span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SET</span> `name`<span class="op">=</span> <span class="st">&#39;quentin&#39;</span>, </span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a>    `email` <span class="op">=</span> <span class="st">&#39;quentind@gmail.com&#39;</span> </span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> `id` <span class="op">=</span> <span class="st">&#39;1&#39;</span>;</span></code></pre></div>
</section>
<section id="delete" class="slide level2">
<h2><code>DELETE</code></h2>
<p>Pour supprimer des entrées</p>
<div class="sourceCode" id="cb78"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="kw">DELETE</span> <span class="kw">FROM</span> `user` <span class="kw">WHERE</span> `id` <span class="op">=</span> <span class="st">&#39;1&#39;</span>;</span></code></pre></div>
<p><em>Attention</em>, en utilisant pas ou mal <code>WHERE</code><br />
on peut <em>vider entièrement une table</em> 😱</p>
</section></section>
<section>
<section id="filtres-tri-etc." class="title-slide slide level1">
<h1>Filtres, tri, etc.</h1>

</section>
<section id="where" class="slide level2">
<h2><code>WHERE</code></h2>
<p>Permet de filtrer les données concernées :</p>
<div class="sourceCode" id="cb79"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a># les utilisateurs majeurs</span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span> <span class="kw">FROM</span> <span class="fu">user</span> <span class="kw">WHERE</span> age <span class="op">&gt;=</span> <span class="dv">18</span>;</span></code></pre></div>
<p>On l’utilise avec <code>SELECT</code>, <code>UPDATE</code> ou
<code>DELETE</code></p>
</section>
<section id="like" class="slide level2">
<h2><code>LIKE</code></h2>
<p>Pour filtrer du texte :</p>
<div class="sourceCode" id="cb80"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a># les utilisateurs dont le mail fini par <span class="st">&#39;ecv.fr&#39;</span></span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span> <span class="kw">FROM</span> <span class="fu">user</span></span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> name <span class="kw">LIKE</span> <span class="st">&#39;%ecv.fr&#39;</span>;</span></code></pre></div>
<p><img data-src="./images/mysql-percent.png" /></p>
</section>
<section id="order-by" class="slide level2">
<h2><code>ORDER BY</code></h2>
<p>Pour trier les résultats :</p>
<div class="sourceCode" id="cb81"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a># les utilisateurs par ordre alphabétique</span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span> <span class="kw">FROM</span> <span class="fu">user</span> <span class="kw">ORDER</span> <span class="kw">BY</span> `name` <span class="kw">ASC</span>;</span></code></pre></div>
</section>
<section id="distinct" class="slide level2">
<h2><code>DISTINCT</code></h2>
<p>Sert à dédoublonner les résultats :</p>
<div class="sourceCode" id="cb82"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a># affiche les différents noms des utilisateurs</span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="kw">DISTINCT</span> name <span class="kw">FROM</span> <span class="fu">user</span>;</span></code></pre></div>
</section>
<section id="as" class="slide level2">
<h2><code>AS</code></h2>
<p>Permet de donner un alias à un résultat :</p>
<div class="sourceCode" id="cb83"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a># affiche les différents noms des utilisateurs</span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="kw">DISTINCT</span> name <span class="kw">AS</span> <span class="ot">&quot;Nom&quot;</span> <span class="kw">FROM</span> <span class="fu">user</span>;</span></code></pre></div>
</section></section>
<section>
<section id="opérations" class="title-slide slide level1">
<h1>Opérations</h1>

</section>
<section id="count" class="slide level2">
<h2><code>COUNT</code></h2>
<p>Permet de compter les résultats :</p>
<div class="sourceCode" id="cb84"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a># le nombre des utilisateurs</span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="fu">COUNT</span>(name) <span class="kw">FROM</span> <span class="fu">user</span>;</span></code></pre></div>
</section>
<section id="autres-opérations" class="slide level2">
<h2>Autres opérations</h2>
<p>Exemples</p>
<p><img data-src="./images/mysql-operations.png" /></p>
<p>Il en existe beaucoup d’autres…</p>
</section></section>
<section>
<section id="modifier-les-tables" class="title-slide slide level1">
<h1>Modifier les tables</h1>

</section>
<section id="alter-table" class="slide level2">
<h2><code>ALTER TABLE</code></h2>
<p>Avec ces mots-clés, on peut<br />
<em>modifier la structure des tables</em></p>
</section>
<section id="ajouter-un-champ" class="slide level2">
<h2>Ajouter un champ</h2>
<p>Pour cela on utilise <code>ADD</code></p>
<p><img data-src="./images/ajout_colonne.png" /></p>
</section>
<section id="supprimer-un-champ" class="slide level2">
<h2>Supprimer un champ</h2>
<p>Pour ça, on utilise <code>DROP</code></p>
<p><img data-src="./images/supp_colonne.png" /></p>
<p>Attention, on perd les données des entités<br />
pour ce champ, à utiliser avec prudence !</p>
</section>
<section id="modifier-le-type-dun-champ" class="slide level2">
<h2>Modifier le type d’un champ</h2>
<p>Pour ça, on utilise <code>MODIFY</code></p>
<p><img data-src="./images/modif-colonne.png" /></p>
</section>
<section id="renommer-un-champ" class="slide level2">
<h2>Renommer un champ</h2>
<p>Cette fois-ci on utilise <code>RENAME COLUMN</code></p>
<div class="sourceCode" id="cb85"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="kw">ALTER</span> <span class="kw">TABLE</span> t1 <span class="kw">RENAME</span> <span class="kw">COLUMN</span> old_col <span class="kw">TO</span> new_col;</span></code></pre></div>
</section></section>
<section>
<section id="lier-les-données" class="title-slide slide level1">
<h1>Lier les données</h1>

</section>
<section id="section-3" class="slide level2">
<h2></h2>
<p>Permet de récupérer les données liées facilement Les relations
structurent la BDD</p>
<p><img data-src="./images/db_structure.png" /></p>
</section>
<section id="relation-1-to-many" class="slide level2">
<h2>Relation 1-to-many</h2>
<p>Exemple: Plusieurs utilisateur parlent la même langue<br />
Il faut ajouter <code>language_id</code> dans la table
utilisateur,<br />
qui pointe vers la valeur de la langue parlée</p>
<p><img data-src="./images/one-to-many.png" /></p>
</section>
<section id="en-pratique" class="slide level2">
<h2>En pratique :</h2>
<p>Ajout du champ qui pointe vers la table <code>language</code></p>
<div class="sourceCode" id="cb86"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="kw">ALTER</span> <span class="kw">TABLE</span> <span class="fu">user</span></span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a><span class="kw">ADD</span> language_id <span class="dt">INT</span> <span class="kw">NULL</span>;</span></code></pre></div>
<p>Ajout de la <em>clé étrangère</em> qui matérialise ce lien</p>
<div class="sourceCode" id="cb87"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="kw">ALTER</span> <span class="kw">TABLE</span> <span class="fu">user</span></span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a><span class="kw">ADD</span> <span class="kw">FOREIGN</span> <span class="kw">KEY</span> (language_id) <span class="kw">REFERENCES</span> language (<span class="kw">id</span>)</span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a><span class="kw">ON</span> <span class="kw">DELETE</span> <span class="kw">CASCADE</span>;</span></code></pre></div>
</section>
<section id="on-delete" class="slide level2">
<h2><code>ON DELETE</code></h2>
<p>Ce mot clé décrit le comportement lors de la destruction d’une entité
liée :</p>
<ul>
<li><code>RESTRICT</code> : on empêche la suppression via une
erreur</li>
<li><code>SET NULL</code> : on vide le champ / retire la liaison</li>
<li><code>CASCADE</code> : on supprime les entités liées</li>
</ul>
</section>
<section id="récupérer-les-données" class="slide level2">
<h2>Récupérer les données</h2>
<p>On utilise les mots clés <code>JOIN</code> et <code>ON</code><br />
pour indiquer qu’on souhaite lier les données</p>
<div class="sourceCode" id="cb88"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span> </span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> <span class="fu">user</span></span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a><span class="kw">JOIN</span> language</span>
<span id="cb88-4"><a href="#cb88-4" aria-hidden="true" tabindex="-1"></a><span class="kw">ON</span> <span class="fu">user</span>.language_id <span class="op">=</span> language.<span class="kw">id</span>;</span></code></pre></div>
</section>
<section id="section-4" class="slide level2">
<h2></h2>
<pre><code>+----+-------------+-----------+----+-----------+
| id | nom         | langue_id | id | nom       |
+----+-------------+-----------+----+-----------+
|  1 | durantay    |         1 |  1 | français  |
|  2 | dupont      |         1 |  1 | français  |
|  5 | paul        |         1 |  1 | français  |
|  6 | de vauclerc |         1 |  1 | français  |
|  7 | gluntig     |         1 |  1 | français  |
| 10 | tember      |         1 |  1 | français  |
|  3 | miller      |         2 |  2 | anglais   |
|  4 | zuckerberg  |         2 |  2 | anglais   |
|  8 | cavill      |         2 |  2 | anglais   |
|  9 | hopper      |         2 |  2 | anglais   |
+----+-------------+-----------+----+-----------+</code></pre>
<p>Les deux dernières colonnes décrivent la <code>langue</code></p>
</section>
<section id="relation-many-to-many" class="slide level2">
<h2>Relation Many-to-many</h2>
<p>On peut imaginer vouloir faire en sorte<br />
que les utilisateurs utilisent plusieurs entités</p>
<p><img data-src="./images/many-to-many.png" /></p>
</section>
<section id="la-table-de-liaison" class="slide level2">
<h2>La table de liaison</h2>
<p>Pour ce type de lien on a besoin d’une <em>table de liaison</em> On
la nomme en général <code>{table1}_{table2}</code></p>
<p><img data-src="./images/table-liaison.png" /></p>
</section>
<section id="mise-en-place" class="slide level2">
<h2>Mise en place</h2>
<p>On crée la table avec les liens correpondant<br />
en utilisant des <code>FOREIGN_KEYS</code></p>
<div class="sourceCode" id="cb90"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> users_ingredients (</span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a>  user_id <span class="dt">INTEGER</span> <span class="kw">NOT</span> <span class="kw">NULL</span>,</span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a>  ingredient_id <span class="dt">INTEGER</span> <span class="kw">NOT</span> <span class="kw">NULL</span>,</span>
<span id="cb90-4"><a href="#cb90-4" aria-hidden="true" tabindex="-1"></a>  <span class="kw">FOREIGN</span> <span class="kw">KEY</span> (user_id) <span class="kw">REFERENCES</span> <span class="fu">user</span> (<span class="kw">id</span>) <span class="kw">ON</span> <span class="kw">DELETE</span> <span class="kw">RESTRICT</span> <span class="kw">ON</span> <span class="kw">UPDATE</span> <span class="kw">CASCADE</span>,</span>
<span id="cb90-5"><a href="#cb90-5" aria-hidden="true" tabindex="-1"></a>  <span class="kw">FOREIGN</span> <span class="kw">KEY</span> (ingredient_id) <span class="kw">REFERENCES</span> ingredient (<span class="kw">id</span>) <span class="kw">ON</span> <span class="kw">DELETE</span> <span class="kw">RESTRICT</span> <span class="kw">ON</span> <span class="kw">UPDATE</span> <span class="kw">CASCADE</span>,</span>
<span id="cb90-6"><a href="#cb90-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">PRIMARY</span> <span class="kw">KEY</span> (user_id, ingredient_id) <span class="co">-- assure l&#39;unicité du couple de valeurs</span></span>
<span id="cb90-7"><a href="#cb90-7" aria-hidden="true" tabindex="-1"></a>);</span>
<span id="cb90-8"><a href="#cb90-8" aria-hidden="true" tabindex="-1"></a>    </span></code></pre></div>
</section>
<section id="récupérer-les-données-1" class="slide level2">
<h2>Récupérer les données</h2>
<p>On doit utiliser 2 <code>JOIN</code> pour récupérer les données Ici
par exemple on récupère tous les ingrédients utilisés par l’utilisateur
<code>1</code></p>
<div class="sourceCode" id="cb91"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> <span class="op">*</span></span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span>  ingredient</span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a><span class="kw">JOIN</span> users_ingredients <span class="kw">ON</span> users_ingredients.ingredient_id <span class="op">=</span> ingredient.<span class="kw">id</span> </span>
<span id="cb91-4"><a href="#cb91-4" aria-hidden="true" tabindex="-1"></a><span class="kw">JOIN</span> <span class="fu">user</span> <span class="kw">ON</span> <span class="fu">user</span>.<span class="kw">id</span> <span class="op">=</span> users_ingredients.user_id</span>
<span id="cb91-5"><a href="#cb91-5" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> <span class="fu">user</span>.<span class="kw">id</span> <span class="op">=</span> <span class="dv">11</span>;</span></code></pre></div>
</section>
<section id="comment-progresser" class="slide level2">
<h2>Comment progresser ?</h2>
<ul>
<li>Commencer par des requêtes simple puis les complexifier</li>
<li>Utiliser <a
href="https://www.sqltutorial.org/wp-content/uploads/2016/04/SQL-cheat-sheet.pdf">une
cheatsheet</a></li>
<li>Bien lire les messages d’erreur</li>
<li>Pratiquer régulièrement</li>
</ul>
</section></section>
    </div>
  </div>

  <script src="https://unpkg.com/reveal.js@^4//dist/reveal.js"></script>

  <!-- reveal.js plugins -->
  <script src="https://unpkg.com/reveal.js@^4//plugin/notes/notes.js"></script>
  <script src="https://unpkg.com/reveal.js@^4//plugin/search/search.js"></script>
  <script src="https://unpkg.com/reveal.js@^4//plugin/zoom/zoom.js"></script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
        // Display controls in the bottom right corner
        controls: true,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: true,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'bottom-right',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: false,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: true,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'default',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: true,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'slide',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'fade',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        maxScale: 1,

        // reveal.js plugins
        plugins: [
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    </body>
</html>
